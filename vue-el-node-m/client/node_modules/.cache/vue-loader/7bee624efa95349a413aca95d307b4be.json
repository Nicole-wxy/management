{"remainingRequest":"C:\\Users\\11219\\Desktop\\vue-el-node-m\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\11219\\Desktop\\vue-el-node-m\\client\\src\\components\\DialogFund.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\11219\\Desktop\\vue-el-node-m\\client\\src\\components\\DialogFund.vue","mtime":1569951416135},{"path":"C:\\Users\\11219\\Desktop\\vue-el-node-m\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\11219\\Desktop\\vue-el-node-m\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\11219\\Desktop\\vue-el-node-m\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\11219\\Desktop\\vue-el-node-m\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nexport default {\r\n  name: \"dialogfund\",\r\n  props: {\r\n    dialog: Object,\r\n    formData: Object\r\n  },\r\n  data() {\r\n    return {\r\n      format_type_list: [\r\n        \"提现\",\r\n        \"提现手续费\",\r\n        \"充值\",\r\n        \"优惠券\",\r\n        \"充值礼券\",\r\n        \"转账\"\r\n      ],\r\n      rules: {\r\n        type: [{ required: true, message: \"请选择类型\", rigger: \"blur\" }],\r\n        describe: [\r\n          { required: true, message: \"请输入收支描述\", rigger: \"blur\" }\r\n        ],\r\n        income: [{ required: true, message: \"请输入收入\", rigger: \"blur\" }],\r\n        expend: [{ required: true, message: \"请输入支出\", rigger: \"blur\" }],\r\n        cash: [{ required: true, message: \"请输入现金\", rigger: \"blur\" }],\r\n        remark: [{ rigger: \"blur\" }]\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    submitForm(formName) {\r\n      this.$refs[formName].validate(valid => {\r\n        if (valid) {\r\n          const url = this.dialog.option == \"add\" ? \"add\" : `edit/${this.formData.id}`;\r\n          //添加数据\r\n          this.$axios.post(`/api/profiles/${url}`, this.formData).then(res => {\r\n            if (url == \"add\") {\r\n              this.$message({\r\n                message: \"数据添加成功\",\r\n                type: \"success\"\r\n              });\r\n            } else {\r\n              this.$message({\r\n                message: \"数据编辑成功\",\r\n                type: \"success\"\r\n              });\r\n            }\r\n            //隐藏dialog\r\n            this.dialog.show = false;\r\n            //让父组件刷新\r\n            this.$emit(\"update\");\r\n          });\r\n        } else {\r\n          console.log(\"error submit!!\");\r\n          return false;\r\n        }\r\n      });\r\n    }\r\n  }\r\n};\r\n",{"version":3,"sources":["DialogFund.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"DialogFund.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <el-dialog\r\n    :title=\"dialog.title\"\r\n    :visible.sync=\"dialog.show\"\r\n    :modal-append-to-body=\"false\"\r\n    :close-on-click-modal=\"false\"\r\n    :close-on-press-escape=\"false\"\r\n  >\r\n    <el-form\r\n      :model=\"formData\"\r\n      :rules=\"rules\"\r\n      ref=\"form\"\r\n      label-width=\"120px\"\r\n      style=\"margin:10px;width:auto;\"\r\n      class=\"demo-ruleForm\"\r\n    >\r\n      <el-form-item label=\"收支类型:\" prop=\"type\">\r\n        <el-select v-model=\"formData.type\" placeholder=\"收支类型\">\r\n          <el-option\r\n            v-for=\"(formtype,index) in format_type_list\"\r\n            :key=\"index\"\r\n            :label=\"formtype\"\r\n            :value=\"formtype\"\r\n          ></el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item label=\"收支描述:\" prop=\"describe\">\r\n        <el-input type=\"describe\" v-model=\"formData.describe\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"收入:\" prop=\"income\">\r\n        <el-input type=\"income\" v-model=\"formData.income\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"支出:\" prop=\"expend\">\r\n        <el-input type=\"expend\" v-model=\"formData.expend\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"现金:\" prop=\"cash\">\r\n        <el-input type=\"cash\" v-model=\"formData.cash\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"备注:\" prop=\"remark\">\r\n        <el-input type=\"remark\" v-model=\"formData.remark\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" @click=\"submitForm('form')\">提交</el-button>\r\n        <el-button @click=\"dialog.show = false\">取消</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n  </el-dialog>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: \"dialogfund\",\r\n  props: {\r\n    dialog: Object,\r\n    formData: Object\r\n  },\r\n  data() {\r\n    return {\r\n      format_type_list: [\r\n        \"提现\",\r\n        \"提现手续费\",\r\n        \"充值\",\r\n        \"优惠券\",\r\n        \"充值礼券\",\r\n        \"转账\"\r\n      ],\r\n      rules: {\r\n        type: [{ required: true, message: \"请选择类型\", rigger: \"blur\" }],\r\n        describe: [\r\n          { required: true, message: \"请输入收支描述\", rigger: \"blur\" }\r\n        ],\r\n        income: [{ required: true, message: \"请输入收入\", rigger: \"blur\" }],\r\n        expend: [{ required: true, message: \"请输入支出\", rigger: \"blur\" }],\r\n        cash: [{ required: true, message: \"请输入现金\", rigger: \"blur\" }],\r\n        remark: [{ rigger: \"blur\" }]\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    submitForm(formName) {\r\n      this.$refs[formName].validate(valid => {\r\n        if (valid) {\r\n          const url = this.dialog.option == \"add\" ? \"add\" : `edit/${this.formData.id}`;\r\n          //添加数据\r\n          this.$axios.post(`/api/profiles/${url}`, this.formData).then(res => {\r\n            if (url == \"add\") {\r\n              this.$message({\r\n                message: \"数据添加成功\",\r\n                type: \"success\"\r\n              });\r\n            } else {\r\n              this.$message({\r\n                message: \"数据编辑成功\",\r\n                type: \"success\"\r\n              });\r\n            }\r\n            //隐藏dialog\r\n            this.dialog.show = false;\r\n            //让父组件刷新\r\n            this.$emit(\"update\");\r\n          });\r\n        } else {\r\n          console.log(\"error submit!!\");\r\n          return false;\r\n        }\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>"]}]}